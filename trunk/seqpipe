#!/bin/bash

if (perl -Mforks -Mforks::shared -e '' >/dev/null 2>/dev/null); then
	PERL_OPTS="-Mforks -Mforks::shared";
elif (perl -Mthreads -Mthreads::shared -e '' >/dev/null 2>/dev/null); then
	PERL_OPTS="-Mthreads -Mthreads::shared";
	echo "WARNING: 'forks' is not available, use CPAN 'threads' instead."
else
	echo "WARNING: Your Perl does not support threads! Parallel mode is disabled."
fi

perl ${PERL_OPTS} $(dirname $(realpath $0))/seqpipe.pl $@
